if(typeof Object.create!=='function'){Object.create=function(obj){function F(){}
F.prototype=obj;return new F()}}(function($,window,document,undefined){$.timeOut=function(callback,sec){that=$(this);setTimeout($.proxy(function(){console.log("Calling call back");callback.call(that);return that},this),sec);return this}
var COLORBOX={_init:function(el,options){this.defaults=$.extend({},$.fn.colorbox.defaults,options);this.defaults.el=$(el);this.colorCode='';this._setTemplate();this._setTrigger()},_setTrigger:function(){var self=this;var el=self.defaults.el;if(self.defaults.trigger=='click'){el.on(self.defaults.trigger,function(event){event.preventDefault();self._calculatePosition()})}else{el.on('mouseenter',function(event){event.preventDefault();self._calculatePosition()})}},_calculatePosition:function(){var el=this.defaults.el;this._addColorBox();setTimeout($.proxy(function(){var boxCordinates=this._getCoordinates(el);this.$box_wrapper.css(boxCordinates);if($('.color_box_wrapper').length>0){this._showColorBox()}},this),this.defaults.duration/2)},_getCoordinates:function(el){var self=this;var coordinates=el.offset();var $elem=el;var $box_wrapper=this.$box_wrapper;var adjustment=10;switch(self.defaults.position){case 'top':return{left:coordinates.left-($box_wrapper.width()/2)+(el.outerWidth()/2),top:coordinates.top-el.outerHeight(),right:'auto'};case 'left':return{left:coordinates.left-($box_wrapper.width())+($elem.outerWidth()/4)-adjustment,top:coordinates.top-($box_wrapper.height()/2)+($elem.outerHeight()/2),right:'auto'};case 'right':return{left:coordinates.left+($elem.outerWidth())+adjustment,top:coordinates.top-($box_wrapper.height()/2)+($elem.outerHeight()/4),right:'auto'};case 'bottom':return{left:coordinates.left-($box_wrapper.width()/2)+($elem.outerWidth()/2),top:coordinates.top+$elem.outerHeight()+adjustment,right:'auto'}}},_addColorBox:function(){var self=this;var $el=self.defaults.el;var duration=self.defaults.duration;var easing=self.defaults.easing;var template=self.template;this.$box_wrapper=$('<small />',{class:'color_box_wrapper'}).data('trigger',$el);var $box_wrapper=this.$box_wrapper;$box_wrapper.append(template);if($('.color_box_wrapper').length){if(easing=='slide'){$('.color_box_wrapper').slideUp(duration,function(){$(this).remove();$el.removeClass('box-shadow')})}else if(easing=='fade'){$('.color_box_wrapper').fadeOut(duration,function(){$(this).remove();$el.removeClass('box-shadow')})}}else{$('body').append($box_wrapper);$el.data('colorbox',$box_wrapper);$el.addClass('box-shadow');self._hideBox()}},_showColorBox:function(){var self=this;var duration=self.defaults.duration;var easing=self.defaults.easing;var $box_wrapper=this.$box_wrapper;if(easing=='slide'){$box_wrapper.slideDown(duration)}else if(easing=='fade'){$box_wrapper.fadeIn(duration)}
this._colorboxEvents()},_colorboxEvents:function(){var self=this;var $el=self.defaults.el;var $colorbox=self.$box_wrapper;var elBg=$el.css('backgroundColor');var elCol=$el.css('borderColor');$colorbox.on('click',function(event){var $target=$(event.target);var color='';if($target.is($('b.color_square'))||$target.parent().is($('b.color_square'))){if($target.is($('b.color_square'))){color=$target.find('i.fa').css('color')}
if($target.parent().is($('b.color_square'))){color=$target.css('color')}
if(color!=''){self._getColorCode(color);$el.css({'backgroundColor':self.colorCode,'borderColor':self.colorCode});self.colorCode=''}}
if($target.is($('span.remove_color'))||$target.parent().is($('span.remove_color'))){$el.css({'backgroundColor':elBg,'borderColor':elCol})}})},_getColorCode:function(colorval){var parts=colorval.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);delete(parts[0]);for(var i=1;i<=3;++i){parts[i]=parseInt(parts[i]).toString(16);if(parts[i].length==1)parts[i]='0'+parts[i]}
this.colorCode='#'+parts.join('')},_hideBox:function(){var self=this;var el=self.defaults.el;var bx=self.$box_wrapper;var duration=self.defaults.duration;var easing=self.defaults.easing;$('body').on('click',function(e){el.each(function(){if(!$(this).is(e.target)&&$(this).has(e.target).length===0&&bx.has(e.target).length===0){var color_box=$(this).data('colorbox');$(this).removeData('colorbox');bx.removeData('trigger');if(easing=='slide'){bx.slideUp(duration,function(){$(this).remove();el.removeClass('box-shadow')})}else if(easing=='fade'){bx.fadeOut(duration,function(){$(this).remove();el.removeClass('box-shadow')})}}})})},_setTemplate:function(){this.template='<small class="color_box">'+'<b data-color="box-red" class="btn btn-default btn-xs color_square tipText" title="" data-original-title="Red"><i class="fa fa-square text-red"></i></b>'+'<b data-color="box-blue" class="btn btn-default btn-xs color_square tipText" title="Blue"><i class="fa fa-square text-blue"></i></b>'+'<b data-color="box-maroon" class="btn btn-default btn-xs color_square tipText" title="Maroon"><i class="fa fa-square text-maroon"></i></b>'+'<b data-color="box-aqua" class="btn btn-default btn-xs color_square tipText" title="Aqua"><i class="fa fa-square text-aqua"></i></b>'+'<b data-color="box-yellow" class="btn btn-default btn-xs color_square tipText" title="Yellow"><i class="fa fa-square text-yellow"></i></b> '+'<b data-color="box-teal" class="btn btn-default btn-xs color_square tipText" title="Teal"><i class="fa fa-square text-teal"></i></b>'+'<b data-color="box-purple" class="btn btn-default btn-xs color_square tipText" title="Purple"><i class="fa fa-square text-purple"></i></b>'+'<b data-color="box-green" class="btn btn-default btn-xs color_square tipText" title="Green"><i class="fa fa-square text-green"></i></b>'+'<span class="btn btn-default btn-xs tipText remove_color" title="Remove Color"><span class="fa fa-times"></span></span>'+'</small>'}}
$.fn.colorbox=function(options){if($.isPlainObject(options)){return this.each(function(){var colorbox=Object.create(COLORBOX);colorbox._init(this,options);$(this).data('colorbox',colorbox)})}else if(typeof options==='string'&&options.indexOf('_')!==0){var colorbox=$(this).data('colorbox');var method=colorbox[options];return method.apply(colorbox,$.makeArray(arguments).slice(1))}};$.fn.colorbox.defaults={duration:1000,trigger:'click',position:'right',easing:'slide',}})(jQuery,window,document)
