/*
 ColorBox jQuery Plugin - v1.0.0-beta1

 Copyright 2017 Ganpat S Rajpurohit, Jaipur.

 Licensed MIT
*/
"function"!==typeof Object.create&&(Object.create=function(c){function h(){}h.prototype=c;return new h});
(function(c,h,k,m){c.timeOut=function(a,b){that=c(this);setTimeout(c.proxy(function(){console.log("Calling call back");a.call(that);return that},this),b);return this};var l={_init:function(a,b){this.defaults=c.extend({},c.fn.colorbox.defaults,b);this.defaults.el=c(a);this.colorCode="";this._setTemplate();this._setTrigger()},_setTrigger:function(){var a=this,b=a.defaults.el;if("click"==a.defaults.trigger)b.on(a.defaults.trigger,function(b){b.preventDefault();a._calculatePosition()});else b.on("mouseenter",
function(a){a.preventDefault()})},_calculatePosition:function(){var a=this.defaults.el;this._addColorBox();setTimeout(c.proxy(function(){var b=this._getCoordinates(a);this.$box_wrapper.css(b);0<c(".color_box_wrapper").length&&this._showColorBox()},this),this.defaults.duration/2)},_getCoordinates:function(a){var b=a.offset(),c=this.$box_wrapper;switch(this.defaults.position){case "top":return{left:b.left-c.width()/2+a.outerWidth()/2,top:b.top-a.outerHeight()-10,right:"auto"};case "left":return{left:b.left-
c.width()+a.outerWidth()/2-30,top:b.top-c.height()/2+a.outerHeight()/2,right:"auto"};case "right":return{left:b.left+a.outerWidth()+10,top:b.top-c.height()/2+a.outerHeight()/4,right:"auto"};case "bottom":return{left:b.left-c.width()/2+a.outerWidth()/2,top:b.top+a.outerHeight()+10,right:"auto"}}},_addColorBox:function(){var a=this.defaults.el,b=this.defaults.duration,d=this.defaults.easing,f=this.template,e=this.$box_wrapper=c("<small />",{"class":"color_box_wrapper"}).data("trigger",a);e.append(f);
$arrow=c("<div />",{"class":"arrow "+this.defaults.position});e.append($arrow);c(".color_box_wrapper").length&&("slide"==d?c(".color_box_wrapper").slideUp(b,function(){c(this).remove();a.removeClass("box-shadow")}):"fade"==d&&c(".color_box_wrapper").fadeOut(b,function(){c(this).remove();a.removeClass("box-shadow")}));this._initColorBox(this,a,e)},_initColorBox:function(a,b,d){c("body").append(d);b.data("colorbox",d);b.addClass("box-shadow");a._hideBox()},_showColorBox:function(){var a=this.defaults.duration,
b=this.defaults.easing,c=this.$box_wrapper;"slide"==b?c.slideDown(a):"fade"==b&&c.fadeIn(a);this._colorboxEvents()},_colorboxEvents:function(){var a=this,b=a.defaults.el,d=a.$box_wrapper,f=b.css("backgroundColor"),e=b.css("borderColor");d.on("click",function(d){d=c(d.target);var g="";if(d.is(c("b.color_square"))||d.parent().is(c("b.color_square")))d.is(c("b.color_square"))&&(g=d.find("i.square").css("background-color")),d.parent().is(c("b.color_square"))&&(g=d.css("background-color")),""!=g&&(a._getColorCode(g),
b.css({backgroundColor:a.colorCode,borderColor:a.colorCode}),a.colorCode="");(d.is(c("span.remove_color"))||d.parent().is(c("span.remove_color")))&&b.css({backgroundColor:f,borderColor:e})})},_getColorCode:function(a){a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);delete a[0];for(var b=1;3>=b;++b)a[b]=parseInt(a[b]).toString(16),1==a[b].length&&(a[b]="0"+a[b]);this.colorCode="#"+a.join("")},_hideBox:function(){var a=this.defaults.el,b=this.$box_wrapper,d=this.defaults.duration,f=this.defaults.easing;
c(k).on("click",function(e){a.each(function(){c(this).is(e.target)||0!==c(this).has(e.target).length||0!==b.has(e.target).length||(c(this).data("colorbox"),c(this).removeData("colorbox"),b.removeData("trigger"),"slide"==f?b.slideUp(d,function(){c(this).remove();a.removeClass("box-shadow")}):"fade"==f&&b.fadeOut(d,function(){c(this).remove();a.removeClass("box-shadow")}))})})},_setTemplate:function(){this.template='<small class="color_box"><b class="btn btn-default btn-xs color_square" ><i class="square red"></i></b><b class="btn btn-default btn-xs color_square"><i class="square blue"></i></b><b class="btn btn-default btn-xs color_square"><i class="square maroon"></i></b><b class="btn btn-default btn-xs color_square"><i class="square aqua"></i></b><b class="btn btn-default btn-xs color_square"><i class="square yellow"></i></b> <b class="btn btn-default btn-xs color_square"><i class="square teal"></i></b><b class="btn btn-default btn-xs color_square"><i class="square purple"></i></b><b class="btn btn-default btn-xs color_square"><i class="square green"></i></b><span class="btn btn-default btn-xs tipText remove_color"><span class="square blank">x</span></span></small>'}};
c.fn.colorbox=function(a){if(c.isPlainObject(a))return this.each(function(){var b=Object.create(l);b._init(this,a);c(this).data("colorbox",b)});if("string"===typeof a&&0!==a.indexOf("_")){var b=c(this).data("colorbox");return b[a].apply(b,c.makeArray(arguments).slice(1))}};c.fn.colorbox.defaults={duration:1E3,trigger:"click",position:"right",easing:"slide"}})(jQuery,window,document);$(function(){$("[data-colorbox]").colorbox({duration:300,trigger:"click",easing:"slide",position:"bottom"})});
